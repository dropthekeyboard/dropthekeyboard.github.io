# Page 11 (신뢰성 확보) 컴포넌트 개선 Refactoring Plan

## 작업의 목적

Page 11 "신뢰성 확보" 슬라이드를 위한 컴포넌트를 기존의 잘 구성된 공유 컴포넌트들을 활용하여 더욱 일관성 있고 재사용 가능한 형태로 개선하며, SK텔레콤 브랜딩과 AI Agent 신뢰성 메시지를 효과적으로 전달할 수 있도록 리팩토링한다.

## 현재의 상태 / 문제점

### 현재 Page11 컴포넌트 분석
- **위치**: `/src/components/newslides/Page11.tsx`
- **현재 구현**: 기본적인 PhoneFrame과 간단한 그라데이션 배너만 사용
- **문제점**:
  1. 기존에 잘 구현된 `IncomingCallOverlay`, `CallScreen` 등 고급 컴포넌트 미활용
  2. SKT 로고(`skt_logo.jpg`) 미사용으로 브랜드 신뢰성 부족
  3. 애니메이션과 인터랙션 부족
  4. 하드코딩된 스타일링으로 테마 시스템 미활용
  5. 실제 통화 시나리오와 일치하지 않는 단순한 UI

### page_11.md 설계 요구사항
- **헤더**: "가치 2. 신뢰성 확보"
- **중앙 콘텐츠**: 스마트폰 목업 + 인증 배너
- **스마트폰 화면**: '홍길동 AI Agent' 수신 전화 화면
- **인증 배너**: "SK텔레콤에서 인증한 AI Agent 전화입니다" (그라데이션 #009EFD → #2AF598)
- **하단 설명**: 신뢰성 확보 관련 설명 텍스트

## 관련 코드의 통합 구조 (Birdeye View)

```
src/components/
├── newslides/
│   └── Page11.tsx (현재 구현 - 개선 대상)
├── shared/
│   ├── PhoneFrame/          # 스마트폰 외관 프레임
│   ├── PhoneSection/        # 통합 전화 섹션 (완성도 높음)
│   ├── CallScreen/          # 통화 화면 UI
│   │   └── IncomingCallOverlay.tsx  # 수신 전화 오버레이 (SKT 로고 사용 중)
│   ├── SectionLabel/        # 라벨 컴포넌트 (애니메이션 지원)
│   └── VoiceBubbleOverlay/  # 통화 버블
└── assets/
    └── skt_logo.jpg         # SK텔레콤 로고 (활용 필요)
```

### 핵심 재사용 가능 컴포넌트들
1. **PhoneSection**: 전화 상태에 따른 자동 화면 전환 로직
2. **IncomingCallOverlay**: 이미 SKT 로고를 사용하는 수신 전화 UI
3. **CallScreen**: 실제 통화 화면 렌더링
4. **SectionLabel**: 다양한 애니메이션 옵션을 가진 라벨 시스템
5. **PhoneFrame**: 일관된 스마트폰 프레임

## 변경 이후의 상태 / 해결 판정 기준

### 개선 목표
1. ✅ **기존 컴포넌트 최대 활용**: PhoneSection, IncomingCallOverlay 등 사용
2. ✅ **SKT 브랜딩 강화**: skt_logo.jpg 활용한 공식적 신뢰성 표현
3. ✅ **애니메이션 개선**: framer-motion 기반 스무스한 전환 효과
4. ✅ **테마 시스템 적용**: CSS 변수와 다크모드 지원
5. ✅ **실사용 시나리오 반영**: 실제 AI Agent 전화 수신 경험 구현

### 판정 기준
- [ ] IncomingCallOverlay로 'ring' 상태의 "홍길동 AI Agent" 수신 전화 구현
- [ ] SKT 로고가 포함된 신뢰성 배너 표시
- [ ] page_11.md 명세와 일치하는 색상 및 레이아웃
- [ ] 반응형 디자인 및 다크모드 지원
- [ ] 기존 애니메이션 시스템과의 일관성

## 수정이 필요한 코드 및 수정부분의 코드 스니핏

### 1. Page11.tsx 전면 리팩토링

**현재 코드 (문제 구간)**:
```tsx
// 현재: 단순한 하드코딩된 구현
<div className="w-1/3">
  <PhoneFrame>
    <div className="w-full h-full bg-black text-white flex flex-col items-center justify-between p-8">
      <div className="text-center">
        <h2 className="text-3xl font-semibold">홍길동 AI Agent</h2>
        <p className="text-muted-foreground mt-2">calling...</p>
      </div>
      {/* 간단한 버튼들... */}
    </div>
  </PhoneFrame>
</div>

// 현재: 기본 그라데이션 배너
<div className="bg-gradient-to-r from-primary to-secondary p-6 rounded-lg relative">
  <p className="text-3xl font-bold text-center text-primary-foreground">
    SK텔레콤에서 인증한 AI Agent 전화입니다
  </p>
</div>
```

**개선된 코드**:
```tsx
// 개선: PhoneSection과 IncomingCallOverlay 활용
<div className="relative w-1/3">
  <PhoneFrame>
    <IncomingCallOverlay 
      state="ring" 
      callerName="홍길동 AI Agent" 
    />
  </PhoneFrame>
</div>

// 개선: SKT 로고가 포함된 신뢰성 배너
<TrustBanner 
  message="SK텔레콤에서 인증한 AI Agent 전화입니다"
  logo="/src/assets/skt_logo.jpg"
  gradientColors={['#009EFD', '#2AF598']}
/>
```

### 2. 새로운 TrustBanner 컴포넌트 생성

**생성 위치**: `/src/components/shared/TrustBanner/index.tsx`
```tsx
interface TrustBannerProps {
  message: string;
  logo?: string;
  gradientColors?: [string, string];
  className?: string;
}

export function TrustBanner({ 
  message, 
  logo, 
  gradientColors = ['#009EFD', '#2AF598'],
  className 
}: TrustBannerProps) {
  return (
    <motion.div
      initial={{ opacity: 0, x: 50 }}
      animate={{ opacity: 1, x: 0 }}
      transition={{ duration: 0.6, delay: 0.3 }}
      className={cn(
        'flex items-center gap-4 p-6 rounded-2xl',
        'backdrop-blur-md border border-white/20',
        className
      )}
      style={{
        background: `linear-gradient(135deg, ${gradientColors[0]}, ${gradientColors[1]})`
      }}
    >
      {logo && (
        <motion.img
          initial={{ scale: 0 }}
          animate={{ scale: 1 }}
          transition={{ delay: 0.5, type: 'spring' }}
          src={logo}
          alt="SK텔레콤"
          className="w-10 h-10 object-contain"
        />
      )}
      <span className="text-white font-bold text-lg lg:text-xl">
        {message}
      </span>
    </motion.div>
  );
}
```

### 3. Page11.tsx 메인 컴포넌트 구조 재설계

```tsx
import { motion } from 'framer-motion';
import { PhoneFrame } from '@/components/shared/PhoneFrame';
import { IncomingCallOverlay } from '@/components/shared/CallScreen/IncomingCallOverlay';
import { TrustBanner } from '@/components/shared/TrustBanner';
import { cn } from '@/lib/utils';

const Page11 = () => {
  return (
    <div className="w-full h-full bg-background text-foreground flex flex-col items-center justify-center p-8 lg:p-10">
      {/* 헤더 */}
      <motion.div
        initial={{ opacity: 0, y: -30 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6 }}
        className="text-center mb-8 lg:mb-12"
      >
        <h1 className="text-3xl lg:text-5xl font-light">
          가치 2. <span className="font-bold">신뢰성 확보</span>
        </h1>
      </motion.div>

      {/* 중앙 콘텐츠 */}
      <div className="bg-muted/40 backdrop-blur-sm p-6 lg:p-8 rounded-3xl w-full max-w-6xl">
        <div className="flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12">
          
          {/* 스마트폰 섹션 */}
          <motion.div
            initial={{ opacity: 0, x: -50 }}
            animate={{ opacity: 1, x: 0 }}
            transition={{ duration: 0.6, delay: 0.2 }}
            className="relative"
          >
            <PhoneFrame>
              <IncomingCallOverlay 
                state="ring" 
                callerName="홍길동 AI Agent" 
              />
            </PhoneFrame>
          </motion.div>

          {/* 신뢰성 배너 */}
          <div className="flex-1 max-w-2xl">
            <TrustBanner 
              message="SK텔레콤에서 인증한 AI Agent 전화입니다"
              logo="/src/assets/skt_logo.jpg"
            />
          </div>
        </div>
      </div>

      {/* 하단 설명 */}
      <motion.div
        initial={{ opacity: 0, y: 30 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6, delay: 0.8 }}
        className="mt-8 lg:mt-12 max-w-5xl text-center space-y-2"
      >
        <p className="text-muted-foreground text-lg">
          당사 전화번호 자산과 가입자 인증 체계를 기반으로,
        </p>
        <p className="text-foreground text-lg lg:text-xl font-medium">
          '<span className="font-bold text-primary">SKT 인증 Agent 발신</span>' 같은 라벨을 부착해 
          업주가 안심할 수 있는 <span className="font-bold text-primary">신뢰 기반</span> 제공 가능
        </p>
      </motion.div>
    </div>
  );
};

export default Page11;
```

## 재사용 가능한 연관 코드

### 기존 활용 가능 컴포넌트
1. **IncomingCallOverlay** (`/src/components/shared/CallScreen/IncomingCallOverlay.tsx`)
   - 이미 SKT 로고 사용 중
   - 'ring' 상태에서 수신 전화 애니메이션 제공
   - Props: `state: PhoneState`, `callerName?: string`

2. **PhoneFrame** (`/src/components/shared/PhoneFrame/index.tsx`)
   - 일관된 스마트폰 외관
   - 상태바, 다이나믹 아일랜드 등 디테일 포함

3. **SectionLabel** (`/src/components/shared/SectionLabel/index.tsx`)
   - 애니메이션 옵션: 'fade', 'slide', 'bounce'
   - 위치 옵션: 'top', 'top-high', 'center', 'bottom'
   - 필요시 신뢰성 배너의 서브 라벨로 활용 가능

### 새로 생성할 재사용 컴포넌트
1. **TrustBanner** (`/src/components/shared/TrustBanner/index.tsx`)
   - Props: `message`, `logo?`, `gradientColors?`, `className?`
   - 다른 신뢰성 관련 슬라이드에서도 재사용 가능
   - 그라데이션 색상 커스터마이즈 지원

### 테마 시스템 활용
- CSS 변수 활용: `--primary`, `--background`, `--muted` 등
- 다크모드 지원: `.dark` 클래스 기반 색상 변경
- `cn()` 유틸리티로 조건부 스타일링

## Test Code 추가 및 수정 필요 부분에 대한 가이드

### 단위 테스트 (Unit Tests)
```typescript
// __tests__/TrustBanner.test.tsx
describe('TrustBanner Component', () => {
  it('renders message correctly', () => {
    render(<TrustBanner message="Test message" />);
    expect(screen.getByText('Test message')).toBeInTheDocument();
  });

  it('displays logo when provided', () => {
    render(<TrustBanner message="Test" logo="/test-logo.jpg" />);
    expect(screen.getByAltText('SK텔레콤')).toBeInTheDocument();
  });

  it('applies custom gradient colors', () => {
    const { container } = render(
      <TrustBanner 
        message="Test" 
        gradientColors={['#FF0000', '#00FF00']} 
      />
    );
    const banner = container.firstChild;
    expect(banner).toHaveStyle('background: linear-gradient(135deg, #FF0000, #00FF00)');
  });
});
```

### 통합 테스트 (Integration Tests)
```typescript
// __tests__/Page11.integration.test.tsx
describe('Page11 Integration', () => {
  it('renders complete trust assurance slide', () => {
    render(<Page11 />);
    
    expect(screen.getByText('가치 2. 신뢰성 확보')).toBeInTheDocument();
    expect(screen.getByText('홍길동 AI Agent')).toBeInTheDocument();
    expect(screen.getByText(/SK텔레콤에서 인증한/)).toBeInTheDocument();
    expect(screen.getByText(/신뢰 기반/)).toBeInTheDocument();
  });

  it('shows incoming call overlay with ring state', () => {
    render(<Page11 />);
    
    // IncomingCallOverlay가 'ring' 상태로 렌더링되는지 확인
    expect(screen.getByText('Incoming Call')).toBeInTheDocument();
    expect(screen.getByAltText('Logo')).toBeInTheDocument();
  });
});
```

### 접근성 테스트 (Accessibility Tests)
```typescript
// __tests__/Page11.a11y.test.tsx
describe('Page11 Accessibility', () => {
  it('meets WCAG accessibility standards', async () => {
    const { container } = render(<Page11 />);
    const results = await axe(container);
    expect(results).toHaveNoViolations();
  });

  it('has proper heading hierarchy', () => {
    render(<Page11 />);
    const heading = screen.getByRole('heading', { level: 1 });
    expect(heading).toHaveTextContent('가치 2. 신뢰성 확보');
  });
});
```

### 반응형 테스트 (Responsive Tests)
```typescript
// __tests__/Page11.responsive.test.tsx
describe('Page11 Responsive Design', () => {
  it('adapts layout for mobile screens', () => {
    Object.defineProperty(window, 'innerWidth', { value: 375 });
    render(<Page11 />);
    
    // 모바일에서는 세로 배치 확인
    const container = screen.getByTestId('content-container');
    expect(container).toHaveClass('flex-col');
  });

  it('uses horizontal layout for desktop', () => {
    Object.defineProperty(window, 'innerWidth', { value: 1200 });
    render(<Page11 />);
    
    // 데스크톱에서는 가로 배치 확인
    const container = screen.getByTestId('content-container');
    expect(container).toHaveClass('lg:flex-row');
  });
});
```

## 추가 분석 과제

### 1. 애니메이션 성능 최적화
- framer-motion의 `will-change` 속성 활용
- 복잡한 애니메이션의 GPU 가속 적용
- 애니메이션 지연 시간 최적화

### 2. SKT 브랜딩 가이드라인 준수
- 로고 사용 규정 확인
- 브랜드 색상 정확성 검증
- 타이포그래피 가이드라인 적용

### 3. 다국어 지원 확장성
- i18n 시스템과의 연동 방안
- 텍스트 길이 변화에 따른 레이아웃 대응
- RTL 언어 지원 고려사항

### 4. 성능 모니터링
- 컴포넌트 렌더링 성능 측정
- 메모리 누수 방지를 위한 useEffect 정리
- 이미지 최적화 (WebP 포맷 고려)

---

**작성일**: 2025년 9월 22일  
**작성자**: AI Coding Assistant  
**버전**: 1.0