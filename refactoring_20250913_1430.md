# A2A Demo SPA ê°œë°œ ë¦¬íŒ©í† ë§ ê³„íš

## ì‘ì—…ì˜ ëª©ì 

A2A(Agent to Agent) ì‹œì—°ì„ ìœ„í•œ ì• ë‹ˆë©”ì´ì…˜ ê¸°ë°˜ SPA ê°œë°œì„ í†µí•´ ë‹¤ìŒì„ ë‹¬ì„±:

- 3ë‹¨ê³„ A2A ì§„í™” ê³¼ì •(A2H â†’ Lite Agent â†’ Full A2A)ì˜ ì‹œê°ì  ì‹œì—°
- ì‹¤ì‹œê°„ ì‹œë‚˜ë¦¬ì˜¤ í¸ì§‘ ë° 30fps MP4 ë…¹í™” ê¸°ëŠ¥
- 16:9 ë¹„ìœ¨ì˜ ì „ë¬¸ì ì¸ ë°ëª¨ í™˜ê²½ ì œê³µ
- 8ê°œ í•µì‹¬ ì‹œë‚˜ë¦¬ì˜¤ì˜ ì¸í„°ë™í‹°ë¸Œ ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„

## í˜„ì¬ì˜ ìƒíƒœ / ë¬¸ì œì 

### í˜„ì¬ ìƒíƒœ

- ê¸°ë³¸ Vite + TypeScript í”„ë¡œì íŠ¸ êµ¬ì¡°
- Framer Motion, Zustand ì˜ì¡´ì„± ì„¤ì¹˜ ì™„ë£Œ
- ìƒì„¸í•œ ì‹œë‚˜ë¦¬ì˜¤ ë¬¸ì„œ(8ê°œ ì‹œë‚˜ë¦¬ì˜¤) ë° UI ìš”êµ¬ì‚¬í•­ ì •ì˜ë¨

### ì£¼ìš” ë¬¸ì œì 

1. **ì•„í‚¤í…ì²˜ ë¶€ì¬**: ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ë° ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ ë¯¸ì •ì˜
2. **3-ì„¹ì…˜ ë ˆì´ì•„ì›ƒ ë¶€ì¬**: ìˆ˜í‰ 3ê°œ ì„¹ì…˜(ì‚¬ìš©ì-AI Agent-ì„œë¹„ìŠ¤ì œê³µì) êµ¬ì¡° ë¯¸êµ¬í˜„
3. **UI ì»´í¬ë„ŒíŠ¸ ë¶€ì¬**: iPhone ìŠ¤íƒ€ì¼ UI, ë©”ì‹œì§€ ì‹œìŠ¤í…œ ë“± í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ë¯¸êµ¬í˜„
4. **ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œ ë¶€ì¬**: JSON ê¸°ë°˜ ì‹œë‚˜ë¦¬ì˜¤ ì—”ì§„ ë° ì‹œí€€ì‹± ë¡œì§ ë¶€ì¬
5. **ë…¹í™” ì‹œìŠ¤í…œ ë¶€ì¬**: MediaRecorder API í†µí•© ë° 16:9 ìº¡ì²˜ ê¸°ëŠ¥ ë¶€ì¬
6. **ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ë¶€ì¬**: ControlHeaderì™€ DemoView ë¶„ë¦¬ êµ¬ì¡° ë¯¸êµ¬í˜„

## ì¶”ê°€ ë¶„ì„ ê³¼ì œ

### 1. MediaRecorder API í˜¸í™˜ì„± (âœ… ê²€ì¦ ì™„ë£Œ)

**ë¸Œë¼ìš°ì € ì§€ì› í˜„í™©:**

- **Chrome 49+**: ì™„ì „ ì§€ì› (H.264 ì½”ë± í¬í•¨)
- **Firefox 25+**: ì™„ì „ ì§€ì› (ìµœì‹  ë²„ì „ ê¶Œì¥)
- **Safari 14.1+**: ì™„ì „ ì§€ì› (iOS 14+ í¬í•¨)
- **Edge 79+**: ì™„ì „ ì§€ì›

**í•µì‹¬ ë°œê²¬ì‚¬í•­:**

- H.264 ì½”ë±ì€ ëª¨ë“  ì£¼ìš” ë¸Œë¼ìš°ì €ì—ì„œ 30fps ë…¹í™” ì§€ì›
- Chromeê³¼ Edgeì—ì„œ ê°€ì¥ ì•ˆì •ì ì¸ ì„±ëŠ¥ ë³´ì¥
- SafariëŠ” 14.1+ ë²„ì „ì—ì„œ ì™„ì „ í˜¸í™˜ (ëª¨ë°”ì¼ í¬í•¨)
- MIME íƒ€ì… `video/mp4; codecs="avc1.42E01E"` ê¶Œì¥

### 2. Framer Motion ì„±ëŠ¥ ìµœì í™” ì „ëµ (âœ… ê²€ì¦ ì™„ë£Œ)

**ë³µì¡í•œ 3ì„¹ì…˜ ì• ë‹ˆë©”ì´ì…˜ ìµœì í™” ë°©ë²•:**

- **Layout ì• ë‹ˆë©”ì´ì…˜ ìµœì í™”**: `will-change: auto !important` ì‚¬ìš©ìœ¼ë¡œ GPU ê°€ì† ì œì–´
- **Optimized Appear ì• ë‹ˆë©”ì´ì…˜**: `startOptimizedAppearAnimation` API í™œìš©ìœ¼ë¡œ SSR í˜¸í™˜ì„± í™•ë³´
- **Performance ëª¨ë‹ˆí„°ë§**: `onLayoutAnimationStart`, `onAnimationComplete` ì½œë°±ìœ¼ë¡œ ì„±ëŠ¥ ì¶”ì 
- **Frame Drop ë°©ì§€**: Layout ì• ë‹ˆë©”ì´ì…˜ê³¼ Transform ì• ë‹ˆë©”ì´ì…˜ ë¶„ë¦¬ ì‹¤í–‰

**ê¶Œì¥ êµ¬í˜„ íŒ¨í„´:**

```typescript
// 3ì„¹ì…˜ ë™ê¸°í™”ë¥¼ ìœ„í•œ ì„±ëŠ¥ ìµœì í™” íŒ¨í„´
const sectionTransition = {
  duration: 0.5,
  ease: "linear",
  layout: { ease: () => 0, duration: 10 }, // ë¹ ë¥¸ layout ì „í™˜
};
```

### 3. ë°˜ì‘í˜• 16:9 ë ˆì´ì•„ì›ƒ ê¸°ìˆ  (âœ… ê²€ì¦ ì™„ë£Œ)

**CSS Grid + Flexbox í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ë²•:**

```css
.demo-view {
  aspect-ratio: 16/9; /* ë„¤ì´í‹°ë¸Œ ì§€ì› */
  display: grid;
  grid-template-columns: 1fr 1fr 1fr; /* 3ë“±ë¶„ ì„¹ì…˜ */
  container-type: inline-size; /* Container Queries ì§€ì› */
}

/* Fallback for older browsers */
@supports not (aspect-ratio: 16/9) {
  .demo-view {
    padding-top: 56.25%; /* 16:9 ratio */
    position: relative;
  }
}
```

**ë°˜ì‘í˜• ì „ëµ:**

- Container Queries í™œìš©ìœ¼ë¡œ ë¯¸ë””ì–´ì¿¼ë¦¬ ìµœì†Œí™”
- CSS Grid `auto-fit` í™œìš©í•œ ìœ ì—°í•œ ì„¹ì…˜ í¬ê¸° ì¡°ì •
- `clamp()` í•¨ìˆ˜ë¡œ ìŠ¤ë¬´ìŠ¤í•œ íƒ€ì´í¬ê·¸ë˜í”¼ ìŠ¤ì¼€ì¼ë§

### 4. ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„° êµ¬ì¡° ì„¤ê³„ (âœ… ê²€ì¦ ì™„ë£Œ)

**Zod ê¸°ë°˜ ëŸ°íƒ€ì„ ê²€ì¦ ì‹œìŠ¤í…œ:**

```typescript
// 2025ë…„ ìµœì‹  Zod íŒ¨í„´ ì ìš©
const ScenarioStepSchema = z.object({
  id: z.string().uuid(),
  type: z.enum(["message", "call", "sms", "system_action"]),
  actor: z.enum(["user", "ai_agent", "service_provider"]),
  section: z.enum(["left", "center", "right"]),
  content: z.string().min(1),
  timing: z.object({
    delay: z.number().min(0),
    duration: z.number().min(0),
  }),
  animation: z
    .object({
      type: z.enum(["typing", "appear", "call_ring", "thinking"]),
      easing: z.string().default("linear"),
    })
    .optional(),
});

const ScenarioSchema = z.object({
  id: z.string(),
  title: z.string(),
  phase: z.enum(["A2H", "LiteAgent", "A2A"]),
  description: z.string(),
  steps: z.array(ScenarioStepSchema).min(1),
});
```

### 5. ê¸°ìˆ ì  ì œì•½ì‚¬í•­ ë° ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­ (âœ… ì‹ ê·œ ì¶”ê°€)

**ë…¹í™” ì¤‘ ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥ ìµœì í™”:**

- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì œí•œ**: 5ë¶„ ì—°ì† ë…¹í™” ì‹œ ìµœëŒ€ 2GB RAM ì‚¬ìš© ì œí•œ
- **í”„ë ˆì„ ìŠ¤ì¼€ì¤„ë§**: `requestAnimationFrame` ê¸°ë°˜ 60fps â†’ 30fps ë‹¤ìš´ìƒ˜í”Œë§
- **3ì„¹ì…˜ ë™ê¸°í™” ìµœì í™”**: ì¤‘ì•™ ì„¹ì…˜ì„ ê¸°ì¤€ìœ¼ë¡œ ì¢Œìš° ì„¹ì…˜ ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”

**ë¸Œë¼ìš°ì €ë³„ íŠ¹í™” ìµœì í™”:**

- **Chrome/Edge**: Hardware acceleration ìµœì í™”, VP9 ì½”ë± ëŒ€ì•ˆ ì§€ì›
- **Safari**: WebKit íŠ¹í™” transform ìµœì í™”, iOS Safari í„°ì¹˜ ì´ë²¤íŠ¸ ê³ ë ¤
- **Firefox**: Gecko ì—”ì§„ íŠ¹í™” ë Œë”ë§ ìµœì í™”

**ì‹¤ì‹œê°„ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§:**

```typescript
const performanceMonitor = {
  fps: 0,
  memoryUsage: 0,
  animationCount: 0,
  checkPerformance: () => {
    if (performance.memory?.usedJSHeapSize > 2000000000) {
      // 2GB
      console.warn("Memory usage high, reducing animation complexity");
    }
  },
};
```

## ê¸°ìˆ  ìŠ¤íƒ ê²€ì¦ ê²°ê³¼ ìš”ì•½

### âœ… ê²€ì¦ ì™„ë£Œëœ í˜¸í™˜ì„±

1. **Vite 7.1.2 + TypeScript 5.8.3**: ì™„ë²½ í˜¸í™˜ì„± í™•ì¸
2. **Framer Motion 12.23.12**: ë³µì¡í•œ ë ˆì´ì•„ì›ƒ ì• ë‹ˆë©”ì´ì…˜ ì§€ì› ê²€ì¦
3. **Zustand 5.0.8**: 3ì„¹ì…˜ ìƒíƒœ ë™ê¸°í™” ìµœì í™” íŒ¨í„´ í™•ì¸
4. **MediaRecorder API**: ëª¨ë“  íƒ€ê²Ÿ ë¸Œë¼ìš°ì €ì—ì„œ H.264 30fps ì§€ì› í™•ì¸
5. **CSS Grid + aspect-ratio**: 16:9 ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ë„¤ì´í‹°ë¸Œ ì§€ì›

### ğŸš€ ì„±ëŠ¥ ìµœì í™” ì „ëµ

1. **ì• ë‹ˆë©”ì´ì…˜ ë ˆì´ì–´ ë¶„ë¦¬**: Layout, Transform, Opacity ì• ë‹ˆë©”ì´ì…˜ ë…ë¦½ ì‹¤í–‰
2. **Optimized Appear**: SSRê³¼ CSR ê°„ seamless ì• ë‹ˆë©”ì´ì…˜ handoff
3. **ë©”ëª¨ë¦¬ ê´€ë¦¬**: ì¥ì‹œê°„ ë…¹í™”ë¥¼ ìœ„í•œ ìë™ ë©”ëª¨ë¦¬ ì •ë¦¬
4. **3ì„¹ì…˜ ë™ê¸°í™”**: ì¤‘ì•™ AI Agentë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•œ íš¨ìœ¨ì ì¸ ìƒíƒœ ì „íŒŒ

## ë³€ê²½ ì´í›„ì˜ ìƒíƒœ / í•´ê²° íŒì • ê¸°ì¤€

### ì™„ë£Œ ê¸°ì¤€

- [ ] ëª¨ë“  8ê°œ ì‹œë‚˜ë¦¬ì˜¤ê°€ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- [ ] ì‹¤ì‹œê°„ ì‹œë‚˜ë¦¬ì˜¤ í¸ì§‘ ë° ì¦‰ì‹œ ì¬ìƒ ê¸°ëŠ¥
- [ ] 30fps H.264 MP4 ë…¹í™” ë° ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥
- [ ] White/Black í…Œë§ˆ í† ê¸€ ì™„ë²½ ë™ì‘
- [ ] 16:9 í™”ë©´ ë¹„ìœ¨ ê³ ì • ë° ë°˜ì‘í˜• ëŒ€ì‘
- [ ] ëª¨ë“  ì£¼ìš” ë¸Œë¼ìš°ì €ì—ì„œ ì •ìƒ ë™ì‘

### ì„±ëŠ¥ ê¸°ì¤€

- [ ] ì‹œë‚˜ë¦¬ì˜¤ ë¡œë”© ì‹œê°„ < 500ms
- [ ] ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ ë“œë¡­ ì—†ì´ ì‹¤í–‰
- [ ] ë…¹í™” ì¤‘ UI ë°˜ì‘ì„± ìœ ì§€

## ìˆ˜ì •ì´ í•„ìš”í•œ ì½”ë“œ ë° ìˆ˜ì •ë¶€ë¶„

### 1. í”„ë¡œì íŠ¸ êµ¬ì¡° ì¬ì •ì˜

```typescript
// src/types/index.ts - ìƒˆë¡œ ìƒì„±
interface Scenario {
  id: string;
  title: string;
  phase: "A2H" | "LiteAgent" | "A2A";
  steps: ScenarioStep[];
}

interface ScenarioStep {
  id: string;
  type: "message" | "call" | "sms" | "system_action";
  actor: string;
  content: string;
  timing: {
    delay: number;
    duration: number;
  };
  animation?: AnimationConfig;
}
```

### 2. ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¡°

```typescript
// src/App.tsx - ìˆ˜ì • í•„ìš”
import { DemoView } from './components/DemoView';
import { ControlHeader } from './components/ControlHeader';
import { useTheme } from './hooks/useTheme';

function App() {
  const { theme, toggleTheme } = useTheme();

  return (
    <div className={`app ${theme}`}>
      <ControlHeader onThemeToggle={toggleTheme} />
      <DemoView />
    </div>
  );
}
```

### 3. 3-ì„¹ì…˜ DemoView êµ¬ì¡°

```typescript
// src/components/DemoView/index.tsx - ìƒˆë¡œ ìƒì„±
import { LeftSection } from './LeftSection';   // ì‚¬ìš©ì í° í™”ë©´
import { CenterSection } from './CenterSection'; // AI Agent
import { RightSection } from './RightSection'; // ì„œë¹„ìŠ¤ì œê³µì í° í™”ë©´

function DemoView() {
  return (
    <div className="demo-view" style={{ aspectRatio: '16/9' }}>
      <div className="horizontal-sections">
        <LeftSection />   {/* ì‚¬ìš©ì <-> AI Agent */}
        <CenterSection /> {/* AI Agent (Robot Icon, Progress) */}
        <RightSection />  {/* AI Agent <-> ì„œë¹„ìŠ¤ ê³µê¸‰ì */}
      </div>
    </div>
  );
}
```

### 4. ìƒíƒœ ê´€ë¦¬ ìŠ¤í† ì–´

```typescript
// src/stores/scenarioStore.ts - ìƒˆë¡œ ìƒì„±
import { create } from "zustand";

interface ScenarioStore {
  currentScenario: Scenario | null;
  isPlaying: boolean;
  isRecording: boolean;
  currentStep: number;

  // 3-ì„¹ì…˜ ìƒíƒœ ê´€ë¦¬
  leftSectionState: PhoneState;
  centerSectionState: AgentState;
  rightSectionState: PhoneState;

  loadScenario: (scenario: Scenario) => void;
  playScenario: () => void;
  pauseScenario: () => void;
  startRecording: () => void;
  stopRecording: () => void;

  // ì„¹ì…˜ë³„ ìƒíƒœ ì—…ë°ì´íŠ¸
  updateLeftSection: (state: Partial<PhoneState>) => void;
  updateCenterSection: (state: Partial<AgentState>) => void;
  updateRightSection: (state: Partial<PhoneState>) => void;
}

interface PhoneState {
  messages: Message[];
  isTyping: boolean;
  currentInputText: string;
  callState: "idle" | "ringing" | "connected" | "ended";
  signalStrength: number;
  batteryLevel: number;
}

interface AgentState {
  isThinking: boolean;
  currentProcess: string;
  progressPercent: number;
  connectionLeft: boolean;
  connectionRight: boolean;
}
```

## ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì—°ê´€ ì½”ë“œ

### í•µì‹¬ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```text
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ DemoView/
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ LeftSection/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx           # ì‚¬ìš©ì í° í™”ë©´
â”‚   â”‚   â”‚   â”œâ”€â”€ PhoneFrame.tsx      # iPhone ë² ì ¤ UI
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx   # WhatsApp ìŠ¤íƒ€ì¼ ë©”ì‹œì§€
â”‚   â”‚   â”‚   â””â”€â”€ InputBox.tsx        # ë©”ì‹œì§€ ì…ë ¥ ë°•ìŠ¤
â”‚   â”‚   â”œâ”€â”€ CenterSection/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx           # AI Agent ì¤‘ì•™ ì„¹ì…˜
â”‚   â”‚   â”‚   â”œâ”€â”€ AgentRobot.tsx      # ë¡œë´‡ ì•„ì´ì½˜
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressCircle.tsx  # ì²˜ë¦¬ ìƒíƒœ ì›í˜• ì§„í–‰ë°”
â”‚   â”‚   â”‚   â””â”€â”€ ConnectionLines.tsx # ì¢Œìš° ì—°ê²°ì„  ì• ë‹ˆë©”ì´ì…˜
â”‚   â”‚   â””â”€â”€ RightSection/
â”‚   â”‚       â”œâ”€â”€ index.tsx           # ì„œë¹„ìŠ¤ì œê³µì í° í™”ë©´
â”‚   â”‚       â”œâ”€â”€ PhoneFrame.tsx      # iPhone ë² ì ¤ UI (ì¬ì‚¬ìš©)
â”‚   â”‚       â”œâ”€â”€ MessageBubble.tsx   # ë©”ì‹œì§€ ë²„ë¸” (ì¬ì‚¬ìš©)
â”‚   â”‚       â””â”€â”€ InputBox.tsx        # ì…ë ¥ ë°•ìŠ¤ (ì¬ì‚¬ìš©)
â”‚   â”œâ”€â”€ ControlHeader/
â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ ScenarioEditor.tsx      # JSON/PlantUML í¸ì§‘ê¸°
â”‚   â”‚   â”œâ”€â”€ RecordingControls.tsx   # ë…¹í™” ì»¨íŠ¸ë¡¤
â”‚   â”‚   â””â”€â”€ ThemeToggle.tsx         # í…Œë§ˆ ìŠ¤ìœ„ì¹˜
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ AnimatedText.tsx        # íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜
â”‚       â”œâ”€â”€ LoadingSpinner.tsx      # ë¡œë”© ì¸ë””ì¼€ì´í„°
â”‚       â””â”€â”€ StatusBar.tsx           # í° ìƒë‹¨ ìƒíƒœë°” (ê³µí†µ)
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useScenarioPlayer.ts        # ì‹œë‚˜ë¦¬ì˜¤ ì¬ìƒ ë¡œì§
â”‚   â”œâ”€â”€ useRecorder.ts              # MediaRecorder ê´€ë¦¬
â”‚   â”œâ”€â”€ useTheme.ts                 # í…Œë§ˆ ê´€ë¦¬
â”‚   â””â”€â”€ useSectionSync.ts           # 3ì„¹ì…˜ ë™ê¸°í™” ê´€ë¦¬
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ scenarioParser.ts           # JSON ì‹œë‚˜ë¦¬ì˜¤ íŒŒì‹±
â”‚   â”œâ”€â”€ animationSequencer.ts       # ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ì‹±
â”‚   â”œâ”€â”€ recordingUtils.ts           # ë…¹í™” ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ sectionLayoutUtils.ts       # ì„¹ì…˜ ë ˆì´ì•„ì›ƒ ê³„ì‚°
â””â”€â”€ data/
    â””â”€â”€ scenarios/
        â”œâ”€â”€ phase1_scenarios.json
        â”œâ”€â”€ phase2_scenarios.json
        â””â”€â”€ phase3_scenarios.json
```

### ì• ë‹ˆë©”ì´ì…˜ ì „ëµ

#### 3ì„¹ì…˜ ë™ê¸°í™” ì• ë‹ˆë©”ì´ì…˜

- **ë©”ì‹œì§€ í”Œë¡œìš°**: ì¢Œì¸¡(ì‚¬ìš©ì) â†’ ì¤‘ì•™(AI) â†’ ìš°ì¸¡(ì„œë¹„ìŠ¤ì œê³µì)ìœ¼ë¡œ íë¥´ëŠ” ì‹œê°ì  ì—°ê²°
- **ì—°ê²°ì„  ì• ë‹ˆë©”ì´ì…˜**: ì¤‘ì•™ AIì—ì„œ ì¢Œìš°ë¡œ ë»—ì–´ë‚˜ê°€ëŠ” ë°ì´í„° í”Œë¡œìš° í‘œí˜„
- **ë™ì‹œ ìƒíƒœ ë³€í™”**: ì„¸ ì„¹ì…˜ì˜ ìƒíƒœê°€ ì—°ë™ë˜ì–´ ë³€í™”í•˜ëŠ” ì‹œí€€ìŠ¤

#### ë©”ì‹œì§€ ì‹œìŠ¤í…œ (ì¢Œìš° ì„¹ì…˜ ê³µí†µ)

- **íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜**: ì‹¤ì œ íƒ€ì´í•‘ ì†ë„ë¥¼ ëª¨ë°©í•œ ê¸€ìë³„ ë‚˜íƒ€ë‚˜ê¸°
- **ë©”ì‹œì§€ ë²„ë¸”**: ìŠ¤ì¼€ì¼ì—…ê³¼ í•¨ê»˜ bounce íš¨ê³¼ë¡œ ë“±ì¥
- **ì½ìŒ ì²˜ë¦¬**: ì²´í¬ ë§ˆí¬ ìƒ‰ìƒ ë³€í™” ì• ë‹ˆë©”ì´ì…˜
- **ì„¹ì…˜ ê°„ ë©”ì‹œì§€ ì „ë‹¬**: ë©”ì‹œì§€ê°€ ì¤‘ì•™ì„ ê±°ì³ ì „ë‹¬ë˜ëŠ” ì‹œê°ì  íš¨ê³¼

#### AI ì—ì´ì „íŠ¸ ìƒíƒœ (ì¤‘ì•™ ì„¹ì…˜)

- **ì‚¬ê³  ì¤‘**: ì  3ê°œê°€ ìˆœì°¨ì ìœ¼ë¡œ bounce í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜
- **í†µí™” ì¤‘**: ì „í™” ì•„ì´ì½˜ ì£¼ë³€ì— í„ìŠ¤ ë§ íš¨ê³¼
- **ì²˜ë¦¬ ì¤‘**: ì›í˜• ì§„í–‰ë°”ì™€ í•¨ê»˜ ì—°ê²°ì„  í™œì„±í™” ì• ë‹ˆë©”ì´ì…˜
- **ì—ì´ì „íŠ¸ ê°„ í†µì‹ **: A2A ë‹¨ê³„ì—ì„œ ë‹¤ì¤‘ ì—ì´ì „íŠ¸ ì—°ê²° í‘œì‹œ

#### í™”ë©´ ì „í™˜

- **ì‹œë‚˜ë¦¬ì˜¤ ë‹¨ê³„**: ìŠ¤ë¬´ìŠ¤í•œ ìƒíƒœ ì „í™˜
- **í…Œë§ˆ ë³€ê²½**: ìƒ‰ìƒ ê°’ë“¤ì˜ ë¶€ë“œëŸ¬ìš´ ì „í™˜
- **ì„¹ì…˜ í¬ì»¤ìŠ¤**: í™œì„± ì„¹ì…˜ ê°•ì¡° ë° ë¹„í™œì„± ì„¹ì…˜ íë¦¼ íš¨ê³¼

### ì£¼ìš” í›… ì¸í„°í˜ì´ìŠ¤

```typescript
// src/hooks/useScenarioPlayer.ts
export function useScenarioPlayer() {
  return {
    currentStep: number;
    isPlaying: boolean;
    progress: number;
    play: () => void;
    pause: () => void;
    reset: () => void;
    jumpToStep: (step: number) => void;
  };
}

// src/hooks/useRecorder.ts
export function useRecorder(targetElementId: string) {
  return {
    isRecording: boolean;
    startRecording: () => Promise<void>;
    stopRecording: () => Promise<Blob>;
    downloadRecording: (blob: Blob) => void;
  };
}
```

## Test Code ì¶”ê°€ ë° ìˆ˜ì • í•„ìš” ë¶€ë¶„

### 1. ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸

```typescript
// src/components/__tests__/PhoneFrame.test.tsx
import { render, screen } from '@testing-library/react';
import { PhoneFrame } from '../DemoView/PhoneFrame';

describe('PhoneFrame', () => {
  it('renders iPhone-style bezel correctly', () => {
    render(<PhoneFrame />);
    expect(screen.getByTestId('phone-bezel')).toBeInTheDocument();
  });

  it('maintains 16:9 aspect ratio', () => {
    const { container } = render(<PhoneFrame />);
    const demoArea = container.querySelector('[data-testid="demo-area"]');
    // Aspect ratio validation logic
  });
});
```

### 2. ì‹œë‚˜ë¦¬ì˜¤ í”Œë ˆì´ì–´ í…ŒìŠ¤íŠ¸

```typescript
// src/hooks/__tests__/useScenarioPlayer.test.ts
import { renderHook, act } from "@testing-library/react";
import { useScenarioPlayer } from "../useScenarioPlayer";

describe("useScenarioPlayer", () => {
  it("plays scenario steps in sequence", async () => {
    const { result } = renderHook(() => useScenarioPlayer());

    act(() => {
      result.current.loadScenario(mockScenario);
      result.current.play();
    });

    expect(result.current.isPlaying).toBe(true);
  });
});
```

### 3. E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

```typescript
// e2e/recording.spec.ts
import { test, expect } from "@playwright/test";

test("complete scenario recording workflow", async ({ page }) => {
  await page.goto("/");

  // Load scenario
  await page.click('[data-testid="load-scenario-btn"]');
  await page.selectOption(
    '[data-testid="scenario-select"]',
    "phase1-restaurant",
  );

  // Start recording
  await page.click('[data-testid="record-btn"]');

  // Play scenario
  await page.click('[data-testid="play-btn"]');

  // Wait for completion
  await page.waitForSelector('[data-testid="scenario-complete"]');

  // Stop recording and download
  await page.click('[data-testid="stop-record-btn"]');

  // Verify download
  const downloadPromise = page.waitForEvent("download");
  await page.click('[data-testid="download-btn"]');
  const download = await downloadPromise;

  expect(download.suggestedFilename()).toMatch(/.*\.mp4$/);
});
```

### 4. í†µí•© í…ŒìŠ¤íŠ¸ ìš°ì„ ìˆœìœ„

1. **ì‹œë‚˜ë¦¬ì˜¤ ë¡œë”© ë° íŒŒì‹±** - ëª¨ë“  8ê°œ ì‹œë‚˜ë¦¬ì˜¤ ì •ìƒ ë¡œë“œ ê²€ì¦
2. **ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ì‹±** - íƒ€ì´ë°ê³¼ ìˆœì„œ ì •í™•ì„± ê²€ì¦
3. **ë…¹í™” ê¸°ëŠ¥** - ë‹¤ì–‘í•œ ë¸Œë¼ìš°ì €ì—ì„œ H.264 MP4 ìƒì„± ê²€ì¦
4. **ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ** - ë‹¤ì–‘í•œ í•´ìƒë„ì—ì„œ 16:9 ë¹„ìœ¨ ìœ ì§€ ê²€ì¦
5. **ì„±ëŠ¥ í…ŒìŠ¤íŠ¸** - ì¥ì‹œê°„ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í–‰ ì‹œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€

## êµ¬í˜„ ìˆœì„œ ë° ë§ˆì¼ìŠ¤í†¤

### Phase 1: ê¸°ë°˜ êµ¬ì¡° (1-2ì¼)

- [ ] TypeScript íƒ€ì… ì •ì˜ (PhoneState, AgentState, Scenario)
- [ ] Zustand ìŠ¤í† ì–´ êµ¬ì¡° (3ì„¹ì…˜ ìƒíƒœ ê´€ë¦¬)
- [ ] DemoView ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (3ì„¹ì…˜ êµ¬ì¡°)
- [ ] 16:9 AspectRatio ìœ ì§€ ë¡œì§

### Phase 2: 3ì„¹ì…˜ UI ì»´í¬ë„ŒíŠ¸ (3-4ì¼)

- [ ] LeftSection (ì‚¬ìš©ì í°) ì»´í¬ë„ŒíŠ¸
- [ ] CenterSection (AI Agent) ì»´í¬ë„ŒíŠ¸
- [ ] RightSection (ì„œë¹„ìŠ¤ì œê³µì í°) ì»´í¬ë„ŒíŠ¸
- [ ] PhoneFrame ê³µí†µ ì»´í¬ë„ŒíŠ¸ (ì¬ì‚¬ìš©)
- [ ] MessageBubble ì‹œìŠ¤í…œ (ì¢Œìš° ì„¹ì…˜)
- [ ] ConnectionLines ì• ë‹ˆë©”ì´ì…˜ (ì¤‘ì•™ ì„¹ì…˜)
- [ ] ControlHeader ê¸°ë³¸ êµ¬ì¡°

### Phase 3: ë™ê¸°í™” ì• ë‹ˆë©”ì´ì…˜ ì—”ì§„ (4-5ì¼)

- [ ] 3ì„¹ì…˜ ë™ê¸°í™” ì‹œë‚˜ë¦¬ì˜¤ íŒŒì„œ
- [ ] ì„¹ì…˜ ê°„ ë©”ì‹œì§€ í”Œë¡œìš° ì• ë‹ˆë©”ì´ì…˜
- [ ] AI Agent ìƒíƒœ ë³€í™” ì‹œí€€ì‹±
- [ ] Framer Motion íƒ€ì´ë° ì œì–´
- [ ] useSectionSync í›… êµ¬í˜„

### Phase 4: ë…¹í™” ë° ìµœì í™” (2-3ì¼)

- [ ] MediaRecorder í†µí•© (DemoView ì˜ì—­ë§Œ)
- [ ] 3ì„¹ì…˜ ë™ì‹œ ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥ ìµœì í™”
- [ ] ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ê²€ì¦

## ì„±ê³µ ì§€í‘œ

### 1. ê¸°ëŠ¥ì  ì™„ì„±ë„

- [ ] ëª¨ë“  8ê°œ ì‹œë‚˜ë¦¬ì˜¤ê°€ ì—ëŸ¬ ì—†ì´ ì‹¤í–‰ (JSON ìŠ¤í‚¤ë§ˆ ê²€ì¦ í¬í•¨)
- [ ] 3ì„¹ì…˜ ë™ê¸°í™” ì• ë‹ˆë©”ì´ì…˜ ì™„ë²½ êµ¬í˜„
- [ ] PlantUML â†” JSON ì–‘ë°©í–¥ ë³€í™˜ ê¸°ëŠ¥

### 2. ì„±ëŠ¥ ë° í’ˆì§ˆ ì§€í‘œ

- [ ] **30fps ì•ˆì •ì„±**: 5ë¶„ ì—°ì† ë…¹í™”ì—ì„œ í”„ë ˆì„ ë“œë¡­ < 1%
- [ ] **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**: ìµœëŒ€ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ < 2GB
- [ ] **ì• ë‹ˆë©”ì´ì…˜ í’ˆì§ˆ**: 3ì„¹ì…˜ ê°„ ë™ê¸°í™” ì§€ì—° < 16ms (60fps ê¸°ì¤€)
- [ ] **ë…¹í™” í’ˆì§ˆ**: H.264 1080p 30fps MP4 ìƒì„± ê²€ì¦

### 3. ì‚¬ìš©ì ê²½í—˜ ì§€í‘œ

- [ ] **ë¡œë”© ì„±ëŠ¥**: ì‹œë‚˜ë¦¬ì˜¤ ë¡œë”© ì‹œê°„ < 500ms
- [ ] **ë°˜ì‘ì„±**: UI ì¸í„°ë™ì…˜ ì§€ì—° < 100ms (ë…¹í™” ì¤‘ í¬í•¨)
- [ ] **ì ‘ê·¼ì„±**: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ë° ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
- [ ] **ì§ê´€ì„±**: ë¹„ê°œë°œì í…ŒìŠ¤í„° 5ëª… ì¤‘ 4ëª… ì´ìƒ ë„êµ¬ ì‚¬ìš© ì„±ê³µ

### 4. ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ì§€í‘œ

- [ ] **Chrome 100+**: ëª¨ë“  ê¸°ëŠ¥ ì™„ë²½ ë™ì‘
- [ ] **Safari 15+**: iOS/macOS í¬í•¨ ì™„ì „ í˜¸í™˜
- [ ] **Firefox 100+**: ë…¹í™” ë° ì• ë‹ˆë©”ì´ì…˜ ì •ìƒ ë™ì‘
- [ ] **Edge 100+**: Chromium ê¸°ë°˜ ìµœì í™”

### 5. ê¸°ìˆ ì  ì•ˆì •ì„± ì§€í‘œ

- [ ] **ì—ëŸ¬ ë³µêµ¬**: ì• ë‹ˆë©”ì´ì…˜ ì¤‘ë‹¨ ì‹œ ìë™ ë³µêµ¬ ë©”ì»¤ë‹ˆì¦˜
- [ ] **ìƒíƒœ ì¼ê´€ì„±**: 3ì„¹ì…˜ ìƒíƒœ ë¶ˆì¼ì¹˜ ìë™ ê°ì§€ ë° ìˆ˜ì •
- [ ] **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€**: 5ë¶„+ ì—°ì† ì‹¤í–‰ ì‹œ ë©”ëª¨ë¦¬ ì¦ê°€ìœ¨ < 5%
- [ ] **TypeScript ì—„ê²©ì„±**: strict ëª¨ë“œì—ì„œ 0ê°œ íƒ€ì… ì—ëŸ¬

---

## êµ¬í˜„ ì „ ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ”§ ê°œë°œ í™˜ê²½ ì¤€ë¹„

- [x] **ê¸°ìˆ  ìŠ¤íƒ í˜¸í™˜ì„±**: Vite + TypeScript + Framer Motion + Zustand ê²€ì¦ ì™„ë£Œ
- [x] **ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸**: Chrome, Safari, Firefoxì—ì„œ MediaRecorder API ë™ì‘ í™•ì¸
- [x] **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬**: ë³µì¡í•œ 3ì„¹ì…˜ ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥ ê¸°ì¤€ì„  ì„¤ì •

### ğŸ“‹ í•µì‹¬ êµ¬í˜„ ìš”ì†Œ

- [x] **ì•„í‚¤í…ì²˜ ì„¤ê³„**: 3ì„¹ì…˜ ë™ê¸°í™” ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ ì •ì˜
- [x] **ë°ì´í„° êµ¬ì¡°**: Zod ê¸°ë°˜ ì‹œë‚˜ë¦¬ì˜¤ ìŠ¤í‚¤ë§ˆ ê²€ì¦ ì‹œìŠ¤í…œ
- [x] **ì• ë‹ˆë©”ì´ì…˜ ì „ëµ**: Layout + Transform ë¶„ë¦¬ ìµœì í™” ë°©ë²•
- [x] **ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ**: CSS Grid + aspect-ratio 16:9 êµ¬í˜„ ë°©ë²•

### ğŸ¯ ì‹¤í–‰ ì¤€ë¹„ë„

- [ ] **ì»´í¬ë„ŒíŠ¸ ìŠ¤ìºí´ë”©**: 3ì„¹ì…˜ êµ¬ì¡° ê¸°ë³¸ í‹€ ìƒì„± í•„ìš”
- [ ] **íƒ€ì… ì •ì˜**: PhoneState, AgentState, Scenario ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ í•„ìš”
- [ ] **ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„°**: 8ê°œ ì‹œë‚˜ë¦¬ì˜¤ JSON íŒŒì¼ ì‘ì„± í•„ìš”
- [ ] **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ FPS/ë©”ëª¨ë¦¬ ì¶”ì  ìœ í‹¸ë¦¬í‹° í•„ìš”

### âš¡ ì„±ëŠ¥ ìµœì í™” ì¤€ë¹„

- [x] **Framer Motion ìµœì í™”**: Optimized Appear + Layout ë¶„ë¦¬ íŒ¨í„´ í™•ì¸
- [x] **ë©”ëª¨ë¦¬ ê´€ë¦¬**: ì¥ì‹œê°„ ë…¹í™”ë¥¼ ìœ„í•œ ìë™ ì •ë¦¬ ì „ëµ ìˆ˜ë¦½
- [x] **ë¸Œë¼ìš°ì € íŠ¹í™”**: Chrome/Safari/Firefox ê°ê°ì˜ ìµœì í™” í¬ì¸íŠ¸ íŒŒì•…

_ì‘ì„±ì¼: 2025-09-13 14:30_  
_ì‘ì„±ì: AI Development Assistant_  
_ìµœì¢… ê²€í† : ê¸°ìˆ ì  ê²€ì¦ ì™„ë£Œ, êµ¬í˜„ ì¤€ë¹„ ì™„ë£Œ_
