{
  "use_case_2_senior_life_mate": {
    "id": "use_case_2_senior_life_mate",
    "title": "시니어 라이프 메이트 (Use Case 2)",
    "description": "어르신을 위해 건강 맞춤 식당을 추천 및 예약하고, 교통편까지 예약해주는 시나리오",
    "agents": [
      {
        "type": "ai",
        "name": "lifemate_agent",
        "displayName": "라이프메이트 에이전트",
        "avatarUrl": "/assets/avatars/lifemate_agent.png",
        "steps": []
      }
    ],
    "customer": {
      "type": "human",
      "name": "elderly_person",
      "displayName": "김미경 어르신",
      "avatarUrl": "/assets/avatars/elderly_person.png",
      "state": "message",
      "messageBox": {}
    },
    "servers": [
      {
        "type": "human",
        "name": "restaurant_1_staff",
        "displayName": "신촌 닭한마리 직원",
        "avatarUrl": "/assets/avatars/restaurant_1_staff.png",
        "state": "message",
        "messageBox": {}
      },
      {
        "type": "human",
        "name": "restaurant_2_staff",
        "displayName": "병천 유황오리 직원",
        "avatarUrl": "/assets/avatars/restaurant_2_staff.png",
        "state": "message",
        "messageBox": {}
      },
      {
        "type": "human",
        "name": "uber_taxi",
        "displayName": "택시 우버 앱",
        "avatarUrl": "/assets/avatars/uber.png",
        "state": "message",
        "messageBox": {}
      }
    ],
    "steps": [
      {
        "type": "make-call",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent"
        }
      },
      {
        "type": "accept-call",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent",
          "content": "오늘 저녁 7시쯤, 친구들과 식당에서 모임을 하고 싶은데 적당한 장소 좀 찾아줘.",
          "type": "voice"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "네, 어르신. 최근 혈당 수치와 식단 기록을 반영해 당뇨 관리에 좋은 식당을 추천드릴게요. 최근에 다녀오셨던 ‘신촌 닭한마리’ 혹은 ‘병천 유황오리’ 어떠세요?",
          "type": "voice",
          "reason": "**메모리 조회: 건강 프로필(당뇨) + 과거 식당 방문 기록**\n**추천 후보 생성: 조건 반영해 [신촌 닭한마리] + [병천 유황오리] 제안**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent",
          "content": "닭한마리 좋아. 예약 되는지 확인해줘.",
          "type": "voice"
        }
      },
      {
        "type": "finish-call",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent"
        }
      },
      {
        "type": "make-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_1_staff",
          "reason": "**식당 정보 검색: “신촌 닭한마리” 전화 번호 확인**\n**Task 수행: 매장 번호로 전화**"
        }
      },
      {
        "type": "accept-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_1_staff"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_1_staff",
          "content": "안녕하세요. SKT 인증 라이프메이트 서비스입니다. 김미경 어르신을 대신해 오늘 저녁 7시 4명 예약 가능한지 확인 부탁 드립니다.",
          "type": "voice"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "restaurant_1_staff",
          "to": "lifemate_agent",
          "content": "오늘은 예약이 다 차서 불가능해요.",
          "type": "voice"
        }
      },
      {
        "type": "finish-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_1_staff"
        }
      },
      {
        "type": "make-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff",
          "reason": "**Fallback 실행: 다른 후보 식당 “병천 유황오리”로 재시도**\n**식당 정보 검색: “병천 유황오리” 전화 번호 확인**\n**Task 수행: 매장 번호로 전화**"
        }
      },
      {
        "type": "accept-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff",
          "content": "안녕하세요. SKT 인증 라이프메이트 서비스입니다. 김미경 어르신을 대신해 오늘 저녁 7시 4명 예약 가능한지 확인 부탁 드립니다.",
          "type": "voice"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "restaurant_2_staff",
          "to": "lifemate_agent",
          "content": "오늘 7시 가능해요. 룸으로 예약해드릴까요?",
          "type": "voice"
        }
      },
      {
        "type": "finish-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff",
          "reason": "**응답 파싱: 예약 가능, 룸 제공 가능**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "어르신, '신촌 닭한마리'는 오늘 예약이 다 찼다고 합니다.\n대신 '병천 유황오리'는 7시 룸 예약이 가능합니다.\n\n'병천 유황오리'로 예약을 진행할까요?\n아래 번호로 답장해 주세요.\n\n1. 네, 예약해주세요\n2. 다른 곳으로 찾아봐주세요\n3. 오늘은 그만할래요",
          "type": "text",
          "reason": "**결과 Text 요약 & 옵션화**\n**액션 코드 매핑: 문자 숫자 입력**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent",
          "content": "1",
          "type": "text",
          "reason": "**응답 파싱: ‘예약 확정’ Intent 확정**"
        }
      },
      {
        "type": "make-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff"
        }
      },
      {
        "type": "accept-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff",
          "content": "안녕하세요. SKT 인증 라이프메이트 서비스입니다. 김미경 어르신을 대신해 오늘 저녁 7시 4명 병천 유황오리 룸으로 최종 예약 확정 부탁 드립니다.",
          "type": "voice"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "restaurant_2_staff",
          "to": "lifemate_agent",
          "content": "네, 예약 확정 되었습니다.",
          "type": "voice"
        }
      },
      {
        "type": "finish-call",
        "action": {
          "from": "lifemate_agent",
          "to": "restaurant_2_staff",
          "reason": "**예약 DB 업데이트**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "오늘 7시 4명 병천 유황오리로 예약 완료했습니다.",
          "type": "text",
          "reason": "**확정 알림(문자) 발송**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "식당까지 이동을 도와드릴게요. 평소 이용하시던 우버 택시를 6시 30분에 불러드릴까요?",
          "type": "text",
          "reason": "**메모리 조회: 과거 식당 방문 기록, 이동 기록 추출**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "elderly_person",
          "to": "lifemate_agent",
          "content": "응, 부탁해.",
          "type": "text"
        }
      },
      {
        "type": "api-call",
        "action": {
          "from": "lifemate_agent",
          "to": "uber_taxi",
          "service": "uber",
          "request": "book taxi for 6:30 PM",
          "reason": "**교통 API 호출: 우버 택시 실행, 출발지/목적지 설정, 도착시간 예측**"
        }
      },
      {
        "type": "api-response",
        "action": {
          "from": "uber_api",
          "to": "lifemate_agent",
          "service": "uber",
          "response": "booking confirmed",
          "reason": "**예약 DB 업데이트**\n"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "네, 어르신. 택시 예약을 완료했습니다.\n\n- **도착 알림**: 택시 도착 10분 전\n- **결제 방법**: SKT 요금으로 자동 결제\n\n편하게 준비하고 계시면 됩니다.",
          "type": "text",
          "reason": "**스케줄러 설정: 도착 10분 전 알림 예약**\n**결제 처리: SKT 통신사 빌링으로 자동 결제 설정**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "어르신, 저녁 메뉴인 오리고기는 단백질이 풍부하고 포만감을 오래 유지시켜 당뇨 환자의 식단 조절에 도움이 됩니다. 채소를 곁들여 드시면 더욱 좋으니, 맛있고 건강하게 식사하세요!",
          "type": "text",
          "reason": "**건강 정보 검색 & Text 요약: 당뇨 + 오리고리**\n**알림(문자) 발송: 음식-건강 데이터베이스 참조**"
        }
      },
      {
        "type": "send-message",
        "action": {
          "from": "lifemate_agent",
          "to": "elderly_person",
          "content": "식사 마치고 2시간 뒤에 혈당 체크하실 시간이라고 다시 한번 알려드릴게요.",
          "type": "text",
          "reason": "**스케줄러 설정: 2시간 뒤 혈당 체크 알림 예약**"
        }
      }
    ]
  }
}